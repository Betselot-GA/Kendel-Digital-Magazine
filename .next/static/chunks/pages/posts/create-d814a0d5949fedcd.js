(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{5967:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/create",function(){return t(2317)}])},1511:function(e,n,t){"use strict";var r=t(5893),c=t(1664),a=(t(7294),t(2980)),s=t(9799);n.Z=function(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)("section",{className:"breadcrumbs",children:(0,r.jsx)("div",{className:"container",children:e.pageTitle&&(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsx)("h2",{children:e.pageTitle}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(c.default,{href:"/",children:"Home"})}),(0,r.jsx)("li",{children:e.pageTitle})]})]})})}),(0,r.jsx)("section",{className:"inner-page",children:(0,r.jsx)("div",{className:"container",children:e.children})}),(0,r.jsx)(a.Z,{})]})}},4206:function(e,n,t){"use strict";t.d(n,{T6:function(){return p},HQ:function(){return h},qb:function(){return m},is:function(){return v},DJ:function(){return b},o1:function(){return w}});var r=t(4051),c=t.n(r);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e,n,t,r,c,a,s){try{var o=e[a](s),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,c)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var a=e.apply(n,t);function o(e){s(a,r,c,o,i,"next",e)}function i(e){s(a,r,c,o,i,"throw",e)}o(void 0)}))}}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,c,a=[],s=!0,o=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);s=!0);}catch(i){o=!0,c=i}finally{try{s||null==t.return||t.return()}finally{if(o)throw c}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u="http://localhost:3000/api/";function l(){return d.apply(this,arguments)}function d(){return d=o(c().mark((function e(){var n,t,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"",t=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,fetch(n,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=o(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"posts").then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return x.apply(this,arguments)}function x(){return(x=o(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"posts/approved").then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return j.apply(this,arguments)}function j(){return(j=o(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"posts",{method:"POST",body:n});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=o(c().mark((function e(n){var t,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.queryKey,r=i(t,2),r[0],a=r[1],e.next=4,fetch(u+"posts/"+a).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=o(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(u+"posts/"+n.id,n).then((function(e){return e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return N.apply(this,arguments)}function N(){return(N=o(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2317:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(4051),c=t.n(r),a=t(5893),s=t(5988),o=t.n(s),i=t(7294),u=t(7516),l=t(8767),d=t(1511),p=t(4206);function f(e,n,t,r,c,a,s){try{var o=e[a](s),i=o.value}catch(u){return void t(u)}o.done?n(i):Promise.resolve(i).then(r,c)}function h(){var e=(0,i.useState)(""),n=e[0],t=e[1],r=(0,i.useState)(""),s=r[0],h=r[1],x=(0,i.useState)(""),m=x[0],j=x[1],v=(0,l.useQueryClient)(),y=(0,l.useMutation)(p.qb,{onSuccess:function(){v.invalidateQueries("posts")}}),b=function(){var e,r=(e=c().mark((function e(r){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),(a=new FormData).append("image",n),a.append("title",s),a.append("content",m),y.mutate(a),y.isSuccess&&(t(""),h(""),j(""));case 7:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,c){var a=e.apply(n,t);function s(e){f(a,r,c,s,o,"next",e)}function o(e){f(a,r,c,s,o,"throw",e)}s(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,a.jsxs)(d.Z,{pageTitle:"Tell Your Story",children:[(0,a.jsx)("div",{className:"jsx-dc0c26d1ca4c6a3c search",children:(0,a.jsxs)("form",{onSubmit:b,method:"post",className:"jsx-dc0c26d1ca4c6a3c",children:[(0,a.jsxs)("div",{className:"jsx-dc0c26d1ca4c6a3c input-group",children:[(0,a.jsx)("div",{className:"jsx-dc0c26d1ca4c6a3c input-group-append",children:(0,a.jsx)("label",{htmlFor:"fileInput",className:"jsx-dc0c26d1ca4c6a3c btn btn-secondary",children:(0,a.jsx)(u.RWX,{size:30})})}),(0,a.jsx)("input",{type:"file",id:"fileInput",onChange:function(e){t(e.target.files[0])},accept:".jpg, .png, .gif, .jpeg",placeholder:"Header Picture",style:{display:"none"},className:"jsx-dc0c26d1ca4c6a3c form-control"}),(0,a.jsx)("input",{type:"text",placeholder:"Header Picture",disabled:!0,className:"jsx-dc0c26d1ca4c6a3c form-control"})]}),(0,a.jsx)("br",{className:"jsx-dc0c26d1ca4c6a3c"}),(0,a.jsx)("div",{className:"jsx-dc0c26d1ca4c6a3c form-group",children:(0,a.jsx)("input",{type:"text",disabled:y.isLoading,required:!0,placeholder:"Post Title",value:s,onChange:function(e){return h(e.target.value)},className:"jsx-dc0c26d1ca4c6a3c form-control"})}),(0,a.jsx)("textarea",{disabled:y.isLoading,placeholder:"Tell your story",required:!0,value:m,onChange:function(e){return j(e.target.value)},className:"jsx-dc0c26d1ca4c6a3c post-body"}),(0,a.jsx)("div",{className:"jsx-dc0c26d1ca4c6a3c",children:(0,a.jsx)("button",{type:"submit",disabled:y.isLoading,className:"jsx-dc0c26d1ca4c6a3c btn btn-lg",children:"Post"})}),(0,a.jsx)("div",{className:"jsx-dc0c26d1ca4c6a3c text-info pt-3",children:(0,a.jsxs)("small",{className:"jsx-dc0c26d1ca4c6a3c",children:[y.isLoading&&"Posting please wait...","// @ts-ignore"]})}),(0,a.jsx)("div",{className:"jsx-dc0c26d1ca4c6a3c text-success pt-3",children:(0,a.jsx)("small",{className:"jsx-dc0c26d1ca4c6a3c",children:y.isSuccess&&"posted waiting for admin confirmation"})})]})}),(0,a.jsx)(o(),{id:"dc0c26d1ca4c6a3c",children:".search.jsx-dc0c26d1ca4c6a3c .input-group.jsx-dc0c26d1ca4c6a3c, .form-group.jsx-dc0c26d1ca4c6a3c{border:3px solid #cda45e;\nborder-radius:20px;\npadding:1px}\n.search.jsx-dc0c26d1ca4c6a3c input.jsx-dc0c26d1ca4c6a3c{background:transparent;\nborder:1px;\ncolor:#fff;\nfont-size:18px}\ninput.jsx-dc0c26d1ca4c6a3c:focus{outline:none}\n.search.jsx-dc0c26d1ca4c6a3c label.jsx-dc0c26d1ca4c6a3c{background:transparent;\nborder:0px}\n.post-body.jsx-dc0c26d1ca4c6a3c{width:100%;\nbackground:transparent;\nborder:3px solid #cda45e;\nborder-radius:20px;\nmargin-top:20px;\ncolor:#fff;\npadding:10px;\nheight:250px}\n.search.jsx-dc0c26d1ca4c6a3c button.jsx-dc0c26d1ca4c6a3c{margin-top:15px;\nwidth:100%;\nbackground:#cda45e}"})]})}},8357:function(e,n,t){"use strict";t.d(n,{w_:function(){return u}});var r=t(7294),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(c),s=function(){return s=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var c in n=arguments[t])Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c]);return e},s.apply(this,arguments)},o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(t[r[c]]=e[r[c]])}return t};function i(e){return e&&e.map((function(e,n){return r.createElement(e.tag,s({key:n},e.attr),i(e.child))}))}function u(e){return function(n){return r.createElement(l,s({attr:s({},e.attr)},n),i(e.child))}}function l(e){var n=function(n){var t,c=e.attr,a=e.size,i=e.title,u=o(e,["attr","size","title"]),l=a||n.size||"1em";return n.className&&(t=n.className),e.className&&(t=(t?t+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,c,u,{className:t,style:s(s({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==a?r.createElement(a.Consumer,null,(function(e){return n(e)})):n(c)}}},function(e){e.O(0,[874,61,988,49,774,888,179],(function(){return n=5967,e(e.s=n);var n}));var n=e.O();_N_E=n}]);